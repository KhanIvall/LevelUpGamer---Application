package com.example.level_up_gamer.ui.screens\n\nimport androidx.compose.foundation.layout.Arrangement\nimport androidx.compose.foundation.layout.Column\nimport androidx.compose.foundation.layout.Row\nimport androidx.compose.foundation.layout.Spacer\nimport androidx.compose.foundation.layout.fillMaxWidth\nimport androidx.compose.foundation.layout.height\nimport androidx.compose.foundation.layout.padding\nimport androidx.compose.foundation.lazy.LazyColumn\nimport androidx.compose.foundation.lazy.items\nimport androidx.compose.material3.Card\nimport androidx.compose.material3.CardDefaults\nimport androidx.compose.material3.ExperimentalMaterial3Api\nimport androidx.compose.material3.Scaffold\nimport androidx.compose.material3.Text\nimport androidx.compose.material3.TopAppBar\nimport androidx.compose.runtime.Composable\nimport androidx.compose.runtime.collectAsState\nimport androidx.compose.runtime.getValue\nimport androidx.compose.ui.Modifier\nimport androidx.compose.ui.text.font.FontWeight\nimport androidx.compose.ui.unit.dp\nimport androidx.compose.ui.unit.sp\nimport androidx.lifecycle.viewmodel.compose.viewModel\nimport com.example.level_up_gamer.model.DetallePedido\nimport com.example.level_up_gamer.model.Producto\nimport com.example.level_up_gamer.viewmodel.CarritoViewModel\n\n@OptIn(ExperimentalMaterial3Api::class)\n@Composable\nfun CarritoScreen(viewModel: CarritoViewModel = viewModel()) {\n\n    val itemsDelCarrito by viewModel.itemsDelCarrito.collectAsState()\n    val total by viewModel.total.collectAsState()\n\n    Scaffold(\n        topBar = {\n            TopAppBar(title = { Text(\"Mi Carrito\") })\n        }\n    ) {\ paddingValues ->\n        Column(modifier = Modifier.padding(paddingValues).padding(16.dp)) {\n            if (itemsDelCarrito.isEmpty()) {\n                Text(\"Tu carrito está vacío.\")\n            } else {\n                LazyColumn(modifier = Modifier.weight(1f)) {\n                    items(itemsDelCarrito) { (producto, detalle) ->\n                        ItemCarrito(producto = producto, detalle = detalle)\n                    }\n                }\n                Spacer(modifier = Modifier.height(16.dp))\n                Row(modifier = Modifier.fillMaxWidth(), horizontalArrangement = Arrangement.End) {\n                    Text(\"Total: \", fontSize = 20.sp)\n                    Text(String.format(\"$%.2f\", total), fontSize = 20.sp, fontWeight = FontWeight.Bold)\n                }\n            }\n        }\n    }\n}\n\n@Composable\nfun ItemCarrito(producto: Producto, detalle: DetallePedido) {\n    Card(\n        modifier = Modifier\n            .fillMaxWidth()\n            .padding(vertical = 4.dp),\n        elevation = CardDefaults.cardElevation(2.dp)\n    ) {\n        Row(modifier = Modifier.padding(16.dp), horizontalArrangement = Arrangement.SpaceBetween) {\n            Column(modifier = Modifier.weight(1f)) {\n                Text(producto.nombre, fontWeight = FontWeight.Bold)\n                Text(\"Cantidad: ${detalle.cantidad}\")\n            }\n            Text(String.format(\"$%.2f\", detalle.precioUnitario * detalle.cantidad))\n        }\n    }\n}